---
date created: 星期三, 五月 29日 2024, 7:05:16 晚上
date modified: 星期三, 五月 29日 2024, 7:16:01 晚上
tags: 
---

# 3c23-轻量级线程

由于操作系统不知道用户级线程的存在，因此无法为其分配CPU资源，也无法产生中断唤醒对应的用户级线程，内核级线程虽然没有上述问题，但是创建、调度、销毁都需要内核的参与导致其性能不占优势。

为了克服用户级线程和内核线程各自的局限性，想要给用户级线程添加被操作系统认得的能力，想要解决内核线程进行创建、销毁的高开销，最终的产物就是轻量级线程。

## 什么是轻量级线程

Sun公司的[论文](https://www.usenix.org/legacy/publications/library/proceedings/sa92/stein.pdf)提出来轻量级线程的方案。线程由内核支持的轻量级进程（LightWeight Prcoess）支持实现。

![Ztpy9h](https://image.leehaoze.com/uPic/Ztpy9h.png)

每个LWP可以被认为是一个虚拟的执行单元，可以执行代码或者系统调用，可以被系统调度。内核会提供一个LWP池子，当你需要创建线程时，只需要在用户空间进行创建操作，随后绑定到LWP池子中的某个LWP身上即可。